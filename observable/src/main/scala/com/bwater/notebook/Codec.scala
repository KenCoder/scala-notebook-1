/*
 * Copyright (c) 2013  Bridgewater Associates, LP
 *
 * Distributed under the terms of the Modified BSD License.  The full license is in
 * the file COPYING, distributed as part of this software.
 */

package com.bwater.notebook

import org.slf4j.LoggerFactory
import org.json4s.DefaultFormats
import org.json4s.JsonAST._

/**
 * Author: Ken
 */


trait Codec[A,B] {
  def encode(x:A):B
  def decode(x:B):A
}

object JsonCodec {
  val log = LoggerFactory.getLogger(getClass())
  implicit val formats = DefaultFormats
  val ints = new Codec[JValue, Int] {
    def decode(t: Int) = JInt(t)
    def encode(v: JValue):Int = v.extract[Int]
  }
  val strings = new Codec[JValue, String] {
    def decode(t: String):JValue = {
      JString(t)
    }
    def encode(v: JValue) = v.extract[String]
  }
}
